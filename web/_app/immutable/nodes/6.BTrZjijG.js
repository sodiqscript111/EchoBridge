import{s as oe,d,w as ae,x as S,i as P,b as n,r as W,y as ie,l as o,c as u,e as y,m as U,g as V,h as c,j as T,a as ue,f as K,t as Q,n as re}from"../chunks/DF-Dz73P.js";import{S as ce,i as de,t as G,a as J,c as fe,d as pe,m as me,b as he,e as _e,g as be}from"../chunks/BdLCvuL5.js";import{g as ve}from"../chunks/BNgdRHux.js";import{a as ge,b as we}from"../chunks/DOzjk_c7.js";import{L as xe}from"../chunks/CivLF-V7.js";function ne(a){let l,s;return{c(){l=c("div"),s=Q(a[3]),this.h()},l(e){l=u(e,"DIV",{class:!0});var t=y(l);s=K(t,a[3]),t.forEach(d),this.h()},h(){o(l,"class","bg-red-500/10 border border-red-500/50 rounded-2xl p-4 mb-6 text-red-400 text-sm")},m(e,t){P(e,l,t),n(l,s)},p(e,t){t&8&&ue(s,e[3])},d(e){e&&d(l)}}}function ye(a){let l,s,e;return l=new xe({props:{size:20}}),{c(){_e(l.$$.fragment),s=Q(`\r
            Log In`)},l(t){he(l.$$.fragment,t),s=K(t,`\r
            Log In`)},m(t,w){me(l,t,w),P(t,s,w),e=!0},i(t){e||(J(l.$$.fragment,t),e=!0)},o(t){G(l.$$.fragment,t),e=!1},d(t){t&&d(s),pe(l,t)}}}function ke(a){let l,s;return{c(){l=c("div"),s=Q(`\r
            Logging in...`),this.h()},l(e){l=u(e,"DIV",{class:!0}),y(l).forEach(d),s=K(e,`\r
            Logging in...`),this.h()},h(){o(l,"class","w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin")},m(e,t){P(e,l,t),P(e,s,t)},i:re,o:re,d(e){e&&(d(l),d(s))}}}function Le(a){let l,s,e,t,w='<h2 class="text-3xl font-bold mb-2">Welcome Back</h2> <p class="text-white/60">Log in to continue syncing</p>',L,j,f,x,p,X="Email",A,m,O,I,E,Y="Password",$,h,z,v,_,b,F,D,Z=`Don&#39;t have an account?
        <a href="/signup" class="text-apple-blue hover:underline font-medium">Sign up</a>`,H,R,ee,i=a[3]&&ne(a);const te=[ke,ye],C=[];function le(r,g){return r[2]?0:1}return _=le(a),b=C[_]=te[_](a),{c(){l=c("div"),s=c("div"),e=c("div"),t=c("div"),t.innerHTML=w,L=T(),i&&i.c(),j=T(),f=c("form"),x=c("div"),p=c("label"),p.textContent=X,A=T(),m=c("input"),O=T(),I=c("div"),E=c("label"),E.textContent=Y,$=T(),h=c("input"),z=T(),v=c("button"),b.c(),F=T(),D=c("div"),D.innerHTML=Z,this.h()},l(r){l=u(r,"DIV",{class:!0});var g=y(l);s=u(g,"DIV",{class:!0});var M=y(s);e=u(M,"DIV",{class:!0});var k=y(e);t=u(k,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-4cr1pp"&&(t.innerHTML=w),L=V(k),i&&i.l(k),j=V(k),f=u(k,"FORM",{class:!0});var B=y(f);x=u(B,"DIV",{});var q=y(x);p=u(q,"LABEL",{class:!0,"data-svelte-h":!0}),U(p)!=="svelte-kv3ka2"&&(p.textContent=X),A=V(q),m=u(q,"INPUT",{type:!0,class:!0,placeholder:!0}),q.forEach(d),O=V(B),I=u(B,"DIV",{});var N=y(I);E=u(N,"LABEL",{class:!0,"data-svelte-h":!0}),U(E)!=="svelte-1euysjn"&&(E.textContent=Y),$=V(N),h=u(N,"INPUT",{type:!0,class:!0,placeholder:!0}),N.forEach(d),z=V(B),v=u(B,"BUTTON",{type:!0,class:!0});var se=y(v);b.l(se),se.forEach(d),B.forEach(d),F=V(k),D=u(k,"DIV",{class:!0,"data-svelte-h":!0}),U(D)!=="svelte-5hro96"&&(D.innerHTML=Z),k.forEach(d),M.forEach(d),g.forEach(d),this.h()},h(){o(t,"class","text-center mb-8"),o(p,"class","block text-sm font-medium mb-2 text-white/70"),o(m,"type","email"),m.required=!0,o(m,"class","w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-apple-blue transition-colors text-white placeholder-white/30"),o(m,"placeholder","you@example.com"),o(E,"class","block text-sm font-medium mb-2 text-white/70"),o(h,"type","password"),h.required=!0,o(h,"class","w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-apple-blue transition-colors text-white placeholder-white/30"),o(h,"placeholder","••••••••"),o(v,"type","submit"),v.disabled=a[2],o(v,"class","w-full py-3 bg-apple-blue rounded-xl font-bold hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"),o(f,"class","space-y-4"),o(D,"class","mt-6 text-center text-sm text-white/60"),o(e,"class","glass rounded-3xl p-8"),o(s,"class","w-full max-w-md"),o(l,"class","flex items-center justify-center min-h-[80vh] px-4")},m(r,g){P(r,l,g),n(l,s),n(s,e),n(e,t),n(e,L),i&&i.m(e,null),n(e,j),n(e,f),n(f,x),n(x,p),n(x,A),n(x,m),S(m,a[0]),n(f,O),n(f,I),n(I,E),n(I,$),n(I,h),S(h,a[1]),n(f,z),n(f,v),C[_].m(v,null),n(e,F),n(e,D),H=!0,R||(ee=[W(m,"input",a[5]),W(h,"input",a[6]),W(f,"submit",ie(a[4]))],R=!0)},p(r,[g]){r[3]?i?i.p(r,g):(i=ne(r),i.c(),i.m(e,j)):i&&(i.d(1),i=null),g&1&&m.value!==r[0]&&S(m,r[0]),g&2&&h.value!==r[1]&&S(h,r[1]);let M=_;_=le(r),_!==M&&(be(),G(C[M],1,1,()=>{C[M]=null}),fe(),b=C[_],b||(b=C[_]=te[_](r),b.c()),J(b,1),b.m(v,null)),(!H||g&4)&&(v.disabled=r[2])},i(r){H||(J(b),H=!0)},o(r){G(b),H=!1},d(r){r&&d(l),i&&i.d(),C[_].d(),R=!1,ae(ee)}}}function Ie(a,l,s){let e="",t="",w=!1,L="";async function j(){s(3,L=""),s(2,w=!0);try{const p=await ge.post("/login/email",{email:e,password:t});we.login(p.jwt_token,p.user),ve("/dashboard")}catch(p){s(3,L=p.message)}finally{s(2,w=!1)}}function f(){e=this.value,s(0,e)}function x(){t=this.value,s(1,t)}return[e,t,w,L,j,f,x]}class je extends ce{constructor(l){super(),de(this,l,Ie,Le,oe,{})}}export{je as component};
