import{s as me,d,a as q,i as M,b as m,l as v,c as p,e as I,g as D,f as L,h as w,j as C,t as N,u as ce,F as W,m as le,o as pe,n as B,p as _e}from"../chunks/DF-Dz73P.js";import{S as ve,i as be,d as Z,t as j,a as z,m as $,b as ee,e as te,c as re,g as se}from"../chunks/BdLCvuL5.js";import{e as X}from"../chunks/BeuEQZSN.js";import{M as we}from"../chunks/mF8Y1LZz.js";import{U as ke}from"../chunks/DxTJoLVo.js";import{a as ye}from"../chunks/DOzjk_c7.js";function Ie(i){let e;return{c(){e=w("div"),this.h()},l(l){e=p(l,"DIV",{class:!0,style:!0}),I(e).forEach(d),this.h()},h(){v(e,"class","absolute inset-0 w-full h-full bg-zinc-800"),W(e,"--c1",i[5]),W(e,"--c2",i[6])},m(l,r){M(l,e,r)},p(l,r){r&32&&W(e,"--c1",l[5]),r&64&&W(e,"--c2",l[6])},d(l){l&&d(e)}}}function Ee(i){let e,l,r,s;return{c(){e=w("img"),r=C(),s=w("div"),this.h()},l(a){e=p(a,"IMG",{src:!0,alt:!0,class:!0}),r=D(a),s=p(a,"DIV",{class:!0}),I(s).forEach(d),this.h()},h(){ce(e.src,l=i[3])||v(e,"src",l),v(e,"alt",i[0]),v(e,"class","absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"),v(s,"class","absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors duration-500")},m(a,t){M(a,e,t),M(a,r,t),M(a,s,t)},p(a,t){t&8&&!ce(e.src,l=a[3])&&v(e,"src",l),t&1&&v(e,"alt",a[0])},d(a){a&&(d(e),d(r),d(s))}}}function fe(i){let e,l;return{c(){e=w("span"),l=N(i[4]),this.h()},l(r){e=p(r,"SPAN",{class:!0});var s=I(e);l=L(s,i[4]),s.forEach(d),this.h()},h(){v(e,"class","px-3 py-1 text-xs font-medium bg-apple-blue/80 backdrop-blur-md rounded-full text-white border border-white/10 uppercase tracking-wider shadow-lg")},m(r,s){M(r,e,s),m(e,l)},p(r,s){s&16&&q(l,r[4])},d(r){r&&d(e)}}}function xe(i){let e,l,r,s,a,t,n,o,c,f,h,b,u,T,g,k,_,x,H,S,A,F,U;function oe(y,V){return y[3]?Ee:Ie}let G=oe(i),P=G(i);t=new we({props:{size:24,color:"white"}});let E=i[4]&&fe(i);return H=new ke({props:{size:14}}),{c(){e=w("div"),P.c(),l=C(),r=w("div"),s=w("div"),a=w("div"),te(t.$$.fragment),n=C(),o=w("div"),E&&E.c(),c=C(),f=w("span"),h=N(i[1]),b=N(" Songs"),u=C(),T=w("div"),g=w("h3"),k=N(i[0]),_=C(),x=w("div"),te(H.$$.fragment),S=C(),A=w("p"),F=N(i[2]),this.h()},l(y){e=p(y,"DIV",{class:!0});var V=I(e);P.l(V),l=D(V),r=p(V,"DIV",{class:!0});var O=I(r);s=p(O,"DIV",{class:!0});var J=I(s);a=p(J,"DIV",{class:!0});var ie=I(a);ee(t.$$.fragment,ie),ie.forEach(d),n=D(J),o=p(J,"DIV",{class:!0});var K=I(o);E&&E.l(K),c=D(K),f=p(K,"SPAN",{class:!0});var Y=I(f);h=L(Y,i[1]),b=L(Y," Songs"),Y.forEach(d),K.forEach(d),J.forEach(d),u=D(O),T=p(O,"DIV",{});var Q=I(T);g=p(Q,"H3",{class:!0});var ae=I(g);k=L(ae,i[0]),ae.forEach(d),_=D(Q),x=p(Q,"DIV",{class:!0});var R=I(x);ee(H.$$.fragment,R),S=D(R),A=p(R,"P",{class:!0});var ne=I(A);F=L(ne,i[2]),ne.forEach(d),R.forEach(d),Q.forEach(d),O.forEach(d),V.forEach(d),this.h()},h(){v(a,"class","p-3 bg-white/10 backdrop-blur-md rounded-full border border-white/10"),v(f,"class","px-3 py-1 text-xs font-medium bg-black/40 backdrop-blur-md rounded-full text-white/90 border border-white/5"),v(o,"class","flex gap-2"),v(s,"class","flex justify-between items-start"),v(g,"class","text-2xl font-bold text-white mb-1 tracking-tight group-hover:translate-x-1 transition-transform duration-300 drop-shadow-lg"),v(A,"class","truncate max-w-[200px]"),v(x,"class","flex items-center gap-2 text-white/80 text-sm font-medium drop-shadow-md"),v(r,"class","absolute inset-0 p-6 flex flex-col justify-between bg-black/40"),v(e,"class","relative w-full h-64 rounded-3xl overflow-hidden cursor-pointer group transform transition-all duration-500 hover:scale-[1.02] shadow-2xl shadow-black/50")},m(y,V){M(y,e,V),P.m(e,null),m(e,l),m(e,r),m(r,s),m(s,a),$(t,a,null),m(s,n),m(s,o),E&&E.m(o,null),m(o,c),m(o,f),m(f,h),m(f,b),m(r,u),m(r,T),m(T,g),m(g,k),m(T,_),m(T,x),$(H,x,null),m(x,S),m(x,A),m(A,F),U=!0},p(y,[V]){G===(G=oe(y))&&P?P.p(y,V):(P.d(1),P=G(y),P&&(P.c(),P.m(e,l))),y[4]?E?E.p(y,V):(E=fe(y),E.c(),E.m(o,c)):E&&(E.d(1),E=null),(!U||V&2)&&q(h,y[1]),(!U||V&1)&&q(k,y[0]),(!U||V&4)&&q(F,y[2])},i(y){U||(z(t.$$.fragment,y),z(H.$$.fragment,y),U=!0)},o(y){j(t.$$.fragment,y),j(H.$$.fragment,y),U=!1},d(y){y&&d(e),P.d(),Z(t),E&&E.d(),Z(H)}}}function Ve(i,e,l){let{title:r="Playlist Title"}=e,{songCount:s=0}=e,{artists:a="Various Artists"}=e,{coverImage:t=null}=e,{category:n=""}=e,{color1:o="#ff0080"}=e,{color2:c="#7928ca"}=e;return i.$$set=f=>{"title"in f&&l(0,r=f.title),"songCount"in f&&l(1,s=f.songCount),"artists"in f&&l(2,a=f.artists),"coverImage"in f&&l(3,t=f.coverImage),"category"in f&&l(4,n=f.category),"color1"in f&&l(5,o=f.color1),"color2"in f&&l(6,c=f.color2)},[r,s,a,t,n,o,c]}class De extends ve{constructor(e){super(),be(this,e,Ve,xe,me,{title:0,songCount:1,artists:2,coverImage:3,category:4,color1:5,color2:6})}}function ue(i,e,l){const r=i.slice();return r[5]=e[l],r}function he(i,e,l){const r=i.slice();return r[8]=e[l],r}function Ce(i){let e,l,r=X(i[3]),s=[];for(let t=0;t<r.length;t+=1)s[t]=ge(ue(i,r,t));const a=t=>j(s[t],1,1,()=>{s[t]=null});return{c(){e=w("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=p(t,"DIV",{class:!0});var n=I(e);for(let o=0;o<s.length;o+=1)s[o].l(n);n.forEach(d),this.h()},h(){v(e,"class","space-y-16")},m(t,n){M(t,e,n);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);l=!0},p(t,n){if(n&10){r=X(t[3]);let o;for(o=0;o<r.length;o+=1){const c=ue(t,r,o);s[o]?(s[o].p(c,n),z(s[o],1)):(s[o]=ge(c),s[o].c(),z(s[o],1),s[o].m(e,null))}for(se(),o=r.length;o<s.length;o+=1)a(o);re()}},i(t){if(!l){for(let n=0;n<r.length;n+=1)z(s[n]);l=!0}},o(t){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)j(s[n]);l=!1},d(t){t&&d(e),_e(s,t)}}}function Me(i){let e,l='<p class="text-2xl text-white/60 font-medium">No public playlists yet.</p> <p class="text-white/40 mt-2">Be the first to share your vibe with the world!</p>';return{c(){e=w("div"),e.innerHTML=l,this.h()},l(r){e=p(r,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-17kbfsy"&&(e.innerHTML=l),this.h()},h(){v(e,"class","glass rounded-3xl p-16 text-center max-w-2xl mx-auto")},m(r,s){M(r,e,s)},p:B,i:B,o:B,d(r){r&&d(e)}}}function Pe(i){let e,l='<div class="w-16 h-16 border-4 border-white/10 border-t-apple-blue rounded-full animate-spin"></div>';return{c(){e=w("div"),e.innerHTML=l,this.h()},l(r){e=p(r,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-eao3vd"&&(e.innerHTML=l),this.h()},h(){v(e,"class","flex items-center justify-center py-32")},m(r,s){M(r,e,s)},p:B,i:B,o:B,d(r){r&&d(e)}}}function de(i){let e,l,r,s,a;return l=new De({props:{title:i[8].title,songCount:i[8].songCount,artists:i[8].artistsPreview,coverImage:i[8].cover_image,category:i[8].category==="Uncategorized"?"":i[8].category,color1:i[8].colors.c1,color2:i[8].colors.c2}}),{c(){e=w("a"),te(l.$$.fragment),r=C(),this.h()},l(t){e=p(t,"A",{href:!0,class:!0});var n=I(e);ee(l.$$.fragment,n),r=D(n),n.forEach(d),this.h()},h(){v(e,"href",s="/playlist/"+i[8].id),v(e,"class","block")},m(t,n){M(t,e,n),$(l,e,null),m(e,r),a=!0},p(t,n){const o={};n&10&&(o.title=t[8].title),n&10&&(o.songCount=t[8].songCount),n&10&&(o.artists=t[8].artistsPreview),n&10&&(o.coverImage=t[8].cover_image),n&10&&(o.category=t[8].category==="Uncategorized"?"":t[8].category),n&10&&(o.color1=t[8].colors.c1),n&10&&(o.color2=t[8].colors.c2),l.$set(o),(!a||n&10&&s!==(s="/playlist/"+t[8].id))&&v(e,"href",s)},i(t){a||(z(l.$$.fragment,t),a=!0)},o(t){j(l.$$.fragment,t),a=!1},d(t){t&&d(e),Z(l)}}}function ge(i){let e,l,r,s=i[5]+"",a,t,n,o,c,f,h,b=X(i[1][i[5]]),u=[];for(let g=0;g<b.length;g+=1)u[g]=de(he(i,b,g));const T=g=>j(u[g],1,1,()=>{u[g]=null});return{c(){e=w("section"),l=w("div"),r=w("h2"),a=N(s),t=C(),n=w("div"),o=C(),c=w("div");for(let g=0;g<u.length;g+=1)u[g].c();f=C(),this.h()},l(g){e=p(g,"SECTION",{});var k=I(e);l=p(k,"DIV",{class:!0});var _=I(l);r=p(_,"H2",{class:!0});var x=I(r);a=L(x,s),x.forEach(d),t=D(_),n=p(_,"DIV",{class:!0}),I(n).forEach(d),_.forEach(d),o=D(k),c=p(k,"DIV",{class:!0});var H=I(c);for(let S=0;S<u.length;S+=1)u[S].l(H);H.forEach(d),f=D(k),k.forEach(d),this.h()},h(){v(r,"class","text-3xl font-bold tracking-tight text-white"),v(n,"class","h-px flex-1 bg-white/10"),v(l,"class","flex items-center gap-4 mb-8"),v(c,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8")},m(g,k){M(g,e,k),m(e,l),m(l,r),m(r,a),m(l,t),m(l,n),m(e,o),m(e,c);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(c,null);m(e,f),h=!0},p(g,k){if((!h||k&8)&&s!==(s=g[5]+"")&&q(a,s),k&10){b=X(g[1][g[5]]);let _;for(_=0;_<b.length;_+=1){const x=he(g,b,_);u[_]?(u[_].p(x,k),z(u[_],1)):(u[_]=de(x),u[_].c(),z(u[_],1),u[_].m(c,null))}for(se(),_=b.length;_<u.length;_+=1)T(_);re()}},i(g){if(!h){for(let k=0;k<b.length;k+=1)z(u[k]);h=!0}},o(g){u=u.filter(Boolean);for(let k=0;k<u.length;k+=1)j(u[k]);h=!1},d(g){g&&d(e),_e(u,g)}}}function ze(i){let e,l,r='<h1 class="text-6xl font-black mb-6 tracking-tight text-white">Public Mixes</h1> <p class="text-xl text-white/60 font-medium max-w-2xl mx-auto leading-relaxed">Discover what the world is listening to, curated by AI and our community.</p>',s,a,t,n;const o=[Pe,Me,Ce],c=[];function f(h,b){return h[2]?0:h[0].length===0?1:2}return a=f(i),t=c[a]=o[a](i),{c(){e=w("div"),l=w("div"),l.innerHTML=r,s=C(),t.c(),this.h()},l(h){e=p(h,"DIV",{class:!0});var b=I(e);l=p(b,"DIV",{class:!0,"data-svelte-h":!0}),le(l)!=="svelte-up1if6"&&(l.innerHTML=r),s=D(b),t.l(b),b.forEach(d),this.h()},h(){v(l,"class","mb-16 text-center"),v(e,"class","p-8 pt-24 max-w-7xl mx-auto pb-24")},m(h,b){M(h,e,b),m(e,l),m(e,s),c[a].m(e,null),n=!0},p(h,[b]){let u=a;a=f(h),a===u?c[a].p(h,b):(se(),j(c[u],1,1,()=>{c[u]=null}),re(),t=c[a],t?t.p(h,b):(t=c[a]=o[a](h),t.c()),z(t,1),t.m(e,null))},i(h){n||(z(t),n=!0)},o(h){j(t),n=!1},d(h){h&&d(e),c[a].d()}}}function He(i,e,l){let r=[],s={},a=!0,t=[];const n=[{c1:"#4f46e5",c2:"#ec4899"},{c1:"#ef4444",c2:"#f59e0b"},{c1:"#10b981",c2:"#3b82f6"},{c1:"#8b5cf6",c2:"#ec4899"},{c1:"#06b6d4",c2:"#8b5cf6"}];return pe(async()=>{try{const o=await ye.get("/playlists/public");l(0,r=(o.playlists||[]).map((c,f)=>{var h,b;return{...c,colors:n[f%n.length],artistsPreview:((h=c.tracks)==null?void 0:h.slice(0,3).map(u=>u.artist).join(", "))||"Various Artists",songCount:((b=c.tracks)==null?void 0:b.length)||0,category:c.category||"Uncategorized"}})),l(1,s=r.reduce((c,f)=>{const h=f.category;return c[h]||(c[h]=[]),c[h].push(f),c},{})),l(3,t=Object.keys(s).sort((c,f)=>c==="Uncategorized"?1:f==="Uncategorized"?-1:c.localeCompare(f)))}catch(o){console.error("Failed to fetch:",o)}finally{l(2,a=!1)}}),[r,s,a,t]}class Ne extends ve{constructor(e){super(),be(this,e,He,ze,me,{})}}export{Ne as component};
