import{s as Ae,z as ae,A as Ee,B as Ke,C as Qe,D as We,E as Ze,d as f,i as U,b as a,l as u,c as d,e as y,g as N,h,j as D,k as mt,o as It,n as Ce,m as G,a as ne,f as H,t as Y,p as Nt,w as je,u as _t,r as ie}from"../chunks/DF-Dz73P.js";import{S as Be,i as Le,d as X,t as A,a as S,m as J,b as K,e as Q,c as De,g as Pe}from"../chunks/BdLCvuL5.js";import{I as et,g as tt,a as lt,e as vt}from"../chunks/BeuEQZSN.js";import{p as Dt}from"../chunks/BA22WdBw.js";import{a as Ne,b as Pt}from"../chunks/DOzjk_c7.js";import{P as yt}from"../chunks/CEpfNtLG.js";import{X as Ct}from"../chunks/BzGWfxMs.js";import{L as Tt}from"../chunks/CivLF-V7.js";import{G as Vt,L as zt}from"../chunks/DIVqPN1U.js";function St(r){let e;const l=r[2].default,t=Ke(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Qe(t,l,s,s[3],e?Ze(l,s[3],n,null):We(s[3]),null)},i(s){e||(S(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function At(r){let e,l;const t=[{name:"clock"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[St]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ae(s,t[n]);return e=new et({props:s}),{c(){Q(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,o){J(e,n,o),l=!0},p(n,[o]){const i=o&3?tt(t,[t[0],o&2&&lt(n[1]),o&1&&{iconNode:n[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function jt(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]];return r.$$set=o=>{l(1,e=ae(ae({},e),Ee(o))),"$$scope"in o&&l(3,s=o.$$scope)},e=Ee(e),[n,e,t,s]}class Bt extends Be{constructor(e){super(),Le(this,e,jt,At,Ae,{})}}function Lt(r){let e;const l=r[2].default,t=Ke(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Qe(t,l,s,s[3],e?Ze(l,s[3],n,null):We(s[3]),null)},i(s){e||(S(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function Ft(r){let e,l;const t=[{name:"import"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Lt]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ae(s,t[n]);return e=new et({props:s}),{c(){Q(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,o){J(e,n,o),l=!0},p(n,[o]){const i=o&3?tt(t,[t[0],o&2&&lt(n[1]),o&1&&{iconNode:n[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Ot(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M12 3v12"}],["path",{d:"m8 11 4 4 4-4"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"}]];return r.$$set=o=>{l(1,e=ae(ae({},e),Ee(o))),"$$scope"in o&&l(3,s=o.$$scope)},e=Ee(e),[n,e,t,s]}class Et extends Be{constructor(e){super(),Le(this,e,Ot,Ft,Ae,{})}}function Mt(r){let e;const l=r[2].default,t=Ke(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&Qe(t,l,s,s[3],e?Ze(l,s[3],n,null):We(s[3]),null)},i(s){e||(S(t,s),e=!0)},o(s){A(t,s),e=!1},d(s){t&&t.d(s)}}}function Ut(r){let e,l;const t=[{name:"music-2"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[Mt]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=ae(s,t[n]);return e=new et({props:s}),{c(){Q(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,o){J(e,n,o),l=!0},p(n,[o]){const i=o&3?tt(t,[t[0],o&2&&lt(n[1]),o&1&&{iconNode:n[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function qt(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["circle",{cx:"8",cy:"18",r:"4"}],["path",{d:"M12 18V2l7 4"}]];return r.$$set=o=>{l(1,e=ae(ae({},e),Ee(o))),"$$scope"in o&&l(3,s=o.$$scope)},e=Ee(e),[n,e,t,s]}class Ht extends Be{constructor(e){super(),Le(this,e,qt,Ut,Ae,{})}}function gt(r,e,l){const t=r.slice();return t[23]=e[l],t[25]=l,t}function Yt(r){let e,l,t,s,n,o,i,v,P="Playlist",w,m,c=r[0].title+"",b,p,E,k=(r[0].description||"No description")+"",V,B,I,j,L=(r[0].owner_id||"EchoBridge User")+"",T,x,C,_="â€¢",g,z,F=r[0].tracks.length+"",R,ve,Te,Z,ge,ue,Fe,ce,de,Oe,Me,oe,ee,te,Ve,ze,re,W,be,st="#",Ue,we,nt="Title",qe,he,ot="Album",He,ke,pe,Ye,me,le,Ge,rt;ue=new yt({props:{class:"w-6 h-6 fill-current ml-1"}}),de=new Et({props:{class:"w-4 h-4"}});const at=[Jt,Xt],_e=[];function it($,O){return $[9]?0:1}ee=it(r),te=_e[ee]=at[ee](r),pe=new Bt({props:{class:"w-4 h-4"}});let xe=vt(r[0].tracks),q=[];for(let $=0;$<xe.length;$+=1)q[$]=bt(gt(r,xe,$));return{c(){e=h("div"),l=h("div"),t=h("img"),o=D(),i=h("div"),v=h("span"),v.textContent=P,w=D(),m=h("h1"),b=Y(c),p=D(),E=h("p"),V=Y(k),B=D(),I=h("div"),j=h("span"),T=Y(L),x=D(),C=h("span"),C.textContent=_,g=D(),z=h("span"),R=Y(F),ve=Y(" songs"),Te=D(),Z=h("div"),ge=h("button"),Q(ue.$$.fragment),Fe=D(),ce=h("button"),Q(de.$$.fragment),Oe=Y(`\r
                Import to...`),Me=D(),oe=h("button"),te.c(),ze=D(),re=h("div"),W=h("div"),be=h("span"),be.textContent=st,Ue=D(),we=h("span"),we.textContent=nt,qe=D(),he=h("span"),he.textContent=ot,He=D(),ke=h("span"),Q(pe.$$.fragment),Ye=D(),me=h("div");for(let $=0;$<q.length;$+=1)q[$].c();this.h()},l($){e=d($,"DIV",{class:!0});var O=y(e);l=d(O,"DIV",{class:!0});var se=y(l);t=d(se,"IMG",{src:!0,alt:!0,class:!0}),se.forEach(f),o=N(O),i=d(O,"DIV",{class:!0});var M=y(i);v=d(M,"SPAN",{class:!0,"data-svelte-h":!0}),G(v)!=="svelte-1kvhwet"&&(v.textContent=P),w=N(M),m=d(M,"H1",{class:!0});var Ie=y(m);b=H(Ie,c),Ie.forEach(f),p=N(M),E=d(M,"P",{class:!0});var ct=y(E);V=H(ct,k),ct.forEach(f),B=N(M),I=d(M,"DIV",{class:!0});var $e=y(I);j=d($e,"SPAN",{class:!0});var ft=y(j);T=H(ft,L),ft.forEach(f),x=N($e),C=d($e,"SPAN",{"data-svelte-h":!0}),G(C)!=="svelte-7hh8jk"&&(C.textContent=_),g=N($e),z=d($e,"SPAN",{});var Re=y(z);R=H(Re,F),ve=H(Re," songs"),Re.forEach(f),$e.forEach(f),M.forEach(f),O.forEach(f),Te=N($),Z=d($,"DIV",{class:!0});var ye=y(Z);ge=d(ye,"BUTTON",{class:!0});var ut=y(ge);K(ue.$$.fragment,ut),ut.forEach(f),Fe=N(ye),ce=d(ye,"BUTTON",{class:!0});var Xe=y(ce);K(de.$$.fragment,Xe),Oe=H(Xe,`\r
                Import to...`),Xe.forEach(f),Me=N(ye),oe=d(ye,"BUTTON",{class:!0,title:!0});var dt=y(oe);te.l(dt),dt.forEach(f),ye.forEach(f),ze=N($),re=d($,"DIV",{class:!0});var Se=y(re);W=d(Se,"DIV",{class:!0});var fe=y(W);be=d(fe,"SPAN",{"data-svelte-h":!0}),G(be)!=="svelte-1y5d941"&&(be.textContent=st),Ue=N(fe),we=d(fe,"SPAN",{"data-svelte-h":!0}),G(we)!=="svelte-7ccxmo"&&(we.textContent=nt),qe=N(fe),he=d(fe,"SPAN",{class:!0,"data-svelte-h":!0}),G(he)!=="svelte-49hjeu"&&(he.textContent=ot),He=N(fe),ke=d(fe,"SPAN",{class:!0});var ht=y(ke);K(pe.$$.fragment,ht),ht.forEach(f),fe.forEach(f),Ye=N(Se),me=d(Se,"DIV",{class:!0});var pt=y(me);for(let Je=0;Je<q.length;Je+=1)q[Je].l(pt);pt.forEach(f),Se.forEach(f),this.h()},h(){_t(t.src,s=r[0].cover_image||"https://images.unsplash.com/photo-1614680376593-902f74cf0d41?w=800&auto=format&fit=crop&q=60")||u(t,"src",s),u(t,"alt",n=r[0].title),u(t,"class","w-full h-full object-cover"),u(l,"class","w-52 h-52 shadow-2xl rounded-md overflow-hidden bg-zinc-800 flex-shrink-0"),u(v,"class","text-xs font-bold uppercase tracking-wider text-zinc-400"),u(m,"class","text-3xl md:text-5xl font-bold text-white tracking-tighter"),u(E,"class","text-zinc-400 text-lg"),u(j,"class","text-white"),u(I,"class","flex items-center gap-2 text-sm text-zinc-400 font-medium"),u(i,"class","flex-1 space-y-4"),u(e,"class","flex flex-col md:flex-row gap-8 items-end"),u(ge,"class","w-14 h-14 rounded-full bg-white flex items-center justify-center text-black hover:scale-105 transition-transform shadow-lg shadow-white/20"),u(ce,"class","px-6 py-3 rounded-full border border-white/20 hover:border-white text-white font-semibold text-sm transition-colors flex items-center gap-2"),u(oe,"class","w-12 h-12 rounded-full border border-white/20 hover:border-white flex items-center justify-center text-white transition-colors"),u(oe,"title",Ve=r[9]?"Public":"Private"),u(Z,"class","flex items-center gap-4 py-6"),u(he,"class","hidden md:block"),u(ke,"class","hidden md:block"),u(W,"class","grid grid-cols-[16px_1fr_1fr_40px] gap-4 px-4 py-2 border-b border-white/5 text-sm font-medium text-zinc-400 uppercase tracking-wider mb-2"),u(me,"class","space-y-1"),u(re,"class","w-full")},m($,O){U($,e,O),a(e,l),a(l,t),a(e,o),a(e,i),a(i,v),a(i,w),a(i,m),a(m,b),a(i,p),a(i,E),a(E,V),a(i,B),a(i,I),a(I,j),a(j,T),a(I,x),a(I,C),a(I,g),a(I,z),a(z,R),a(z,ve),U($,Te,O),U($,Z,O),a(Z,ge),J(ue,ge,null),a(Z,Fe),a(Z,ce),J(de,ce,null),a(ce,Oe),a(Z,Me),a(Z,oe),_e[ee].m(oe,null),U($,ze,O),U($,re,O),a(re,W),a(W,be),a(W,Ue),a(W,we),a(W,qe),a(W,he),a(W,He),a(W,ke),J(pe,ke,null),a(re,Ye),a(re,me);for(let se=0;se<q.length;se+=1)q[se]&&q[se].m(me,null);le=!0,Ge||(rt=[ie(ce,"click",r[14]),ie(oe,"click",r[11])],Ge=!0)},p($,O){(!le||O&1&&!_t(t.src,s=$[0].cover_image||"https://images.unsplash.com/photo-1614680376593-902f74cf0d41?w=800&auto=format&fit=crop&q=60"))&&u(t,"src",s),(!le||O&1&&n!==(n=$[0].title))&&u(t,"alt",n),(!le||O&1)&&c!==(c=$[0].title+"")&&ne(b,c),(!le||O&1)&&k!==(k=($[0].description||"No description")+"")&&ne(V,k),(!le||O&1)&&L!==(L=($[0].owner_id||"EchoBridge User")+"")&&ne(T,L),(!le||O&1)&&F!==(F=$[0].tracks.length+"")&&ne(R,F);let se=ee;if(ee=it($),ee!==se&&(Pe(),A(_e[se],1,1,()=>{_e[se]=null}),De(),te=_e[ee],te||(te=_e[ee]=at[ee]($),te.c()),S(te,1),te.m(oe,null)),(!le||O&512&&Ve!==(Ve=$[9]?"Public":"Private"))&&u(oe,"title",Ve),O&1){xe=vt($[0].tracks);let M;for(M=0;M<xe.length;M+=1){const Ie=gt($,xe,M);q[M]?q[M].p(Ie,O):(q[M]=bt(Ie),q[M].c(),q[M].m(me,null))}for(;M<q.length;M+=1)q[M].d(1);q.length=xe.length}},i($){le||(S(ue.$$.fragment,$),S(de.$$.fragment,$),S(te),S(pe.$$.fragment,$),le=!0)},o($){A(ue.$$.fragment,$),A(de.$$.fragment,$),A(te),A(pe.$$.fragment,$),le=!1},d($){$&&(f(e),f(Te),f(Z),f(ze),f(re)),X(ue),X(de),_e[ee].d(),X(pe),Nt(q,$),Ge=!1,je(rt)}}}function Gt(r){let e,l;return{c(){e=h("div"),l=Y(r[2]),this.h()},l(t){e=d(t,"DIV",{class:!0});var s=y(e);l=H(s,r[2]),s.forEach(f),this.h()},h(){u(e,"class","text-red-500")},m(t,s){U(t,e,s),a(e,l)},p(t,s){s&4&&ne(l,t[2])},i:Ce,o:Ce,d(t){t&&f(e)}}}function Rt(r){let e,l="Loading playlist...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-knwo9p"&&(e.textContent=l),this.h()},h(){u(e,"class","text-zinc-500")},m(t,s){U(t,e,s)},p:Ce,i:Ce,o:Ce,d(t){t&&f(e)}}}function Xt(r){let e,l;return e=new zt({props:{class:"w-5 h-5"}}),{c(){Q(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,s){J(e,t,s),l=!0},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){X(e,t)}}}function Jt(r){let e,l;return e=new Vt({props:{class:"w-5 h-5"}}),{c(){Q(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,s){J(e,t,s),l=!0},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){X(e,t)}}}function bt(r){let e,l,t=r[25]+1+"",s,n,o,i,v=r[23].title+"",P,w,m,c=r[23].artist+"",b,p,E,k=r[23].album+"",V,B,I,j="3:45",L;return{c(){e=h("div"),l=h("span"),s=Y(t),n=D(),o=h("div"),i=h("span"),P=Y(v),w=D(),m=h("span"),b=Y(c),p=D(),E=h("span"),V=Y(k),B=D(),I=h("span"),I.textContent=j,L=D(),this.h()},l(T){e=d(T,"DIV",{class:!0});var x=y(e);l=d(x,"SPAN",{class:!0});var C=y(l);s=H(C,t),C.forEach(f),n=N(x),o=d(x,"DIV",{class:!0});var _=y(o);i=d(_,"SPAN",{class:!0});var g=y(i);P=H(g,v),g.forEach(f),w=N(_),m=d(_,"SPAN",{class:!0});var z=y(m);b=H(z,c),z.forEach(f),_.forEach(f),p=N(x),E=d(x,"SPAN",{class:!0});var F=y(E);V=H(F,k),F.forEach(f),B=N(x),I=d(x,"SPAN",{class:!0,"data-svelte-h":!0}),G(I)!=="svelte-1usfvq7"&&(I.textContent=j),L=N(x),x.forEach(f),this.h()},h(){u(l,"class","group-hover:text-white"),u(i,"class","text-white font-medium truncate"),u(m,"class","group-hover:text-white transition-colors"),u(o,"class","flex flex-col"),u(E,"class","hidden md:block truncate group-hover:text-white transition-colors"),u(I,"class","hidden md:block font-mono text-xs"),u(e,"class","group grid grid-cols-[16px_1fr_1fr_40px] gap-4 px-4 py-3 rounded-md hover:bg-white/5 transition-colors items-center text-sm text-zinc-400")},m(T,x){U(T,e,x),a(e,l),a(l,s),a(e,n),a(e,o),a(o,i),a(i,P),a(o,w),a(o,m),a(m,b),a(e,p),a(e,E),a(E,V),a(e,B),a(e,I),a(e,L)},p(T,x){x&1&&v!==(v=T[23].title+"")&&ne(P,v),x&1&&c!==(c=T[23].artist+"")&&ne(b,c),x&1&&k!==(k=T[23].album+"")&&ne(V,k)},d(T){T&&f(e)}}}function wt(r){let e,l,t,s,n,o,i,v,P,w;s=new Ct({props:{class:"w-5 h-5"}});const m=[Qt,Kt],c=[];function b(p,E){return p[7]?0:1}return o=b(r),i=c[o]=m[o](r),{c(){e=h("div"),l=h("div"),t=h("button"),Q(s.$$.fragment),n=D(),i.c(),this.h()},l(p){e=d(p,"DIV",{class:!0});var E=y(e);l=d(E,"DIV",{class:!0});var k=y(l);t=d(k,"BUTTON",{class:!0});var V=y(t);K(s.$$.fragment,V),V.forEach(f),n=N(k),i.l(k),k.forEach(f),E.forEach(f),this.h()},h(){u(t,"class","absolute top-4 right-4 text-zinc-400 hover:text-white"),u(l,"class","bg-zinc-900 border border-white/10 rounded-xl p-6 max-w-md w-full shadow-2xl space-y-6 relative"),u(e,"class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm")},m(p,E){U(p,e,E),a(e,l),a(l,t),J(s,t,null),a(l,n),c[o].m(l,null),v=!0,P||(w=ie(t,"click",r[15]),P=!0)},p(p,E){let k=o;o=b(p),o===k?c[o].p(p,E):(Pe(),A(c[k],1,1,()=>{c[k]=null}),De(),i=c[o],i?i.p(p,E):(i=c[o]=m[o](p),i.c()),S(i,1),i.m(l,null))},i(p){v||(S(s.$$.fragment,p),S(i),v=!0)},o(p){A(s.$$.fragment,p),A(i),v=!1},d(p){p&&f(e),X(s),c[o].d(),P=!1,w()}}}function Kt(r){let e,l=`<h2 class="text-xl font-bold text-white mb-2">Import Playlist</h2> <p class="text-zinc-400 text-sm">Choose a platform to add this playlist to your
                            library.</p>`,t,s,n,o,i,v,P,w,m,c="Spotify",b,p,E,k,V,B,I="YouTube",j,L,T,x=r[5]&&kt(r),C=r[6]&&xt(r);return P=new Ht({props:{class:"w-5 h-5"}}),k=new yt({props:{class:"w-5 h-5 fill-current"}}),{c(){e=h("div"),e.innerHTML=l,t=D(),x&&x.c(),s=D(),C&&C.c(),n=D(),o=h("div"),i=h("button"),v=h("div"),Q(P.$$.fragment),w=D(),m=h("span"),m.textContent=c,b=D(),p=h("button"),E=h("div"),Q(k.$$.fragment),V=D(),B=h("span"),B.textContent=I,this.h()},l(_){e=d(_,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1r7vrpq"&&(e.innerHTML=l),t=N(_),x&&x.l(_),s=N(_),C&&C.l(_),n=N(_),o=d(_,"DIV",{class:!0});var g=y(o);i=d(g,"BUTTON",{class:!0});var z=y(i);v=d(z,"DIV",{class:!0});var F=y(v);K(P.$$.fragment,F),F.forEach(f),w=N(z),m=d(z,"SPAN",{class:!0,"data-svelte-h":!0}),G(m)!=="svelte-qgggg7"&&(m.textContent=c),z.forEach(f),b=N(g),p=d(g,"BUTTON",{class:!0});var R=y(p);E=d(R,"DIV",{class:!0});var ve=y(E);K(k.$$.fragment,ve),ve.forEach(f),V=N(R),B=d(R,"SPAN",{class:!0,"data-svelte-h":!0}),G(B)!=="svelte-qfdez2"&&(B.textContent=I),R.forEach(f),g.forEach(f),this.h()},h(){u(e,"class","text-center"),u(v,"class","w-10 h-10 rounded-full bg-[#1DB954] text-black flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"),u(m,"class","text-white font-medium text-sm"),i.disabled=r[4],u(i,"class","flex flex-col items-center justify-center gap-3 p-4 rounded-lg bg-[#1DB954]/10 border border-[#1DB954]/20 hover:bg-[#1DB954]/20 transition-colors group disabled:opacity-50 disabled:cursor-not-allowed"),u(E,"class","w-10 h-10 rounded-full bg-[#FF0000] text-white flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"),u(B,"class","text-white font-medium text-sm"),p.disabled=r[4],u(p,"class","flex flex-col items-center justify-center gap-3 p-4 rounded-lg bg-[#FF0000]/10 border border-[#FF0000]/20 hover:bg-[#FF0000]/20 transition-colors group disabled:opacity-50 disabled:cursor-not-allowed"),u(o,"class","grid grid-cols-2 gap-4")},m(_,g){U(_,e,g),U(_,t,g),x&&x.m(_,g),U(_,s,g),C&&C.m(_,g),U(_,n,g),U(_,o,g),a(o,i),a(i,v),J(P,v,null),a(i,w),a(i,m),a(o,b),a(o,p),a(p,E),J(k,E,null),a(p,V),a(p,B),j=!0,L||(T=[ie(i,"click",r[18]),ie(p,"click",r[19])],L=!0)},p(_,g){_[5]?x?x.p(_,g):(x=kt(_),x.c(),x.m(s.parentNode,s)):x&&(x.d(1),x=null),_[6]?C?C.p(_,g):(C=xt(_),C.c(),C.m(n.parentNode,n)):C&&(C.d(1),C=null),(!j||g&16)&&(i.disabled=_[4]),(!j||g&16)&&(p.disabled=_[4])},i(_){j||(S(P.$$.fragment,_),S(k.$$.fragment,_),j=!0)},o(_){A(P.$$.fragment,_),A(k.$$.fragment,_),j=!1},d(_){_&&(f(e),f(t),f(s),f(n),f(o)),x&&x.d(_),C&&C.d(_),X(P),X(k),L=!1,je(T)}}}function Qt(r){let e,l,t,s,n,o,i,v=r[7].platform==="spotify"?"Spotify":"YouTube",P,w,m,c,b=`You need to connect your account to import\r
                                playlists.`,p,E,k,V="Cancel",B,I,j="Connect Now",L,T,x;return t=new Et({props:{class:"w-6 h-6"}}),{c(){e=h("div"),l=h("div"),Q(t.$$.fragment),s=D(),n=h("div"),o=h("h2"),i=Y("Connect "),P=Y(v),w=Y("?"),m=D(),c=h("p"),c.textContent=b,p=D(),E=h("div"),k=h("button"),k.textContent=V,B=D(),I=h("button"),I.textContent=j,this.h()},l(C){e=d(C,"DIV",{class:!0});var _=y(e);l=d(_,"DIV",{class:!0});var g=y(l);K(t.$$.fragment,g),g.forEach(f),s=N(_),n=d(_,"DIV",{});var z=y(n);o=d(z,"H2",{class:!0});var F=y(o);i=H(F,"Connect "),P=H(F,v),w=H(F,"?"),F.forEach(f),m=N(z),c=d(z,"P",{class:!0,"data-svelte-h":!0}),G(c)!=="svelte-18ljvm9"&&(c.textContent=b),z.forEach(f),p=N(_),E=d(_,"DIV",{class:!0});var R=y(E);k=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),G(k)!=="svelte-1lzwai3"&&(k.textContent=V),B=N(R),I=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),G(I)!=="svelte-1im68x2"&&(I.textContent=j),R.forEach(f),_.forEach(f),this.h()},h(){u(l,"class","w-12 h-12 rounded-full bg-zinc-800 flex items-center justify-center mx-auto text-zinc-400"),u(o,"class","text-xl font-bold text-white"),u(c,"class","text-zinc-400 text-sm mt-2"),u(k,"class","flex-1 py-2 rounded-md bg-white/5 hover:bg-white/10 text-white font-medium text-sm transition-colors"),u(I,"class","flex-1 py-2 rounded-md bg-white hover:bg-zinc-200 text-black font-bold text-sm transition-colors shadow-lg shadow-white/20"),u(E,"class","flex gap-3 pt-2"),u(e,"class","text-center space-y-4")},m(C,_){U(C,e,_),a(e,l),J(t,l,null),a(e,s),a(e,n),a(n,o),a(o,i),a(o,P),a(o,w),a(n,m),a(n,c),a(e,p),a(e,E),a(E,k),a(E,B),a(E,I),L=!0,T||(x=[ie(k,"click",r[16]),ie(I,"click",r[17])],T=!0)},p(C,_){(!L||_&128)&&v!==(v=C[7].platform==="spotify"?"Spotify":"YouTube")&&ne(P,v)},i(C){L||(S(t.$$.fragment,C),L=!0)},o(C){A(t.$$.fragment,C),L=!1},d(C){C&&f(e),X(t),T=!1,je(x)}}}function kt(r){let e,l;return{c(){e=h("div"),l=Y(r[5]),this.h()},l(t){e=d(t,"DIV",{class:!0});var s=y(e);l=H(s,r[5]),s.forEach(f),this.h()},h(){u(e,"class","bg-red-500/10 text-red-400 p-3 rounded-md text-sm text-center")},m(t,s){U(t,e,s),a(e,l)},p(t,s){s&32&&ne(l,t[5])},d(t){t&&f(e)}}}function xt(r){let e,l;return{c(){e=h("div"),l=Y(r[6]),this.h()},l(t){e=d(t,"DIV",{class:!0});var s=y(e);l=H(s,r[6]),s.forEach(f),this.h()},h(){u(e,"class","bg-green-500/10 text-green-400 p-3 rounded-md text-sm text-center")},m(t,s){U(t,e,s),a(e,l)},p(t,s){s&64&&ne(l,t[6])},d(t){t&&f(e)}}}function $t(r){let e,l,t,s,n,o,i,v,P,w,m=`<h2 class="text-xl font-bold text-white">Login Required</h2> <p class="text-zinc-400 text-sm mt-2">You need to be logged in to import playlists to your
                            library.</p>`,c,b,p,E="Cancel",k,V,B="Log In",I,j,L;return s=new Ct({props:{class:"w-5 h-5"}}),v=new Tt({props:{class:"w-6 h-6"}}),{c(){e=h("div"),l=h("div"),t=h("button"),Q(s.$$.fragment),n=D(),o=h("div"),i=h("div"),Q(v.$$.fragment),P=D(),w=h("div"),w.innerHTML=m,c=D(),b=h("div"),p=h("button"),p.textContent=E,k=D(),V=h("a"),V.textContent=B,this.h()},l(T){e=d(T,"DIV",{class:!0});var x=y(e);l=d(x,"DIV",{class:!0});var C=y(l);t=d(C,"BUTTON",{class:!0});var _=y(t);K(s.$$.fragment,_),_.forEach(f),n=N(C),o=d(C,"DIV",{class:!0});var g=y(o);i=d(g,"DIV",{class:!0});var z=y(i);K(v.$$.fragment,z),z.forEach(f),P=N(g),w=d(g,"DIV",{"data-svelte-h":!0}),G(w)!=="svelte-tlal9n"&&(w.innerHTML=m),c=N(g),b=d(g,"DIV",{class:!0});var F=y(b);p=d(F,"BUTTON",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-1rpxo1a"&&(p.textContent=E),k=N(F),V=d(F,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(V)!=="svelte-k4224i"&&(V.textContent=B),F.forEach(f),g.forEach(f),C.forEach(f),x.forEach(f),this.h()},h(){u(t,"class","absolute top-4 right-4 text-zinc-400 hover:text-white"),u(i,"class","w-12 h-12 rounded-full bg-zinc-800 flex items-center justify-center mx-auto text-zinc-400"),u(p,"class","flex-1 py-2 rounded-md bg-white/5 hover:bg-white/10 text-white font-medium text-sm transition-colors"),u(V,"href","/login"),u(V,"class","flex-1 py-2 rounded-md bg-white hover:bg-zinc-200 text-black font-bold text-sm transition-colors shadow-lg shadow-white/20 flex items-center justify-center"),u(b,"class","flex gap-3 pt-2"),u(o,"class","text-center space-y-4"),u(l,"class","bg-zinc-900 border border-white/10 rounded-xl p-6 max-w-md w-full shadow-2xl space-y-6 relative"),u(e,"class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm")},m(T,x){U(T,e,x),a(e,l),a(l,t),J(s,t,null),a(l,n),a(l,o),a(o,i),J(v,i,null),a(o,P),a(o,w),a(o,c),a(o,b),a(b,p),a(b,k),a(b,V),I=!0,j||(L=[ie(t,"click",r[20]),ie(p,"click",r[21])],j=!0)},p:Ce,i(T){I||(S(s.$$.fragment,T),S(v.$$.fragment,T),I=!0)},o(T){A(s.$$.fragment,T),A(v.$$.fragment,T),I=!1},d(T){T&&f(e),X(s),X(v),j=!1,je(L)}}}function Wt(r){let e,l,t,s,n,o;const i=[Rt,Gt,Yt],v=[];function P(c,b){return c[1]?0:c[2]?1:c[0]?2:-1}~(l=P(r))&&(t=v[l]=i[l](r));let w=r[3]&&wt(r),m=r[8]&&$t(r);return{c(){e=h("div"),t&&t.c(),s=D(),w&&w.c(),n=D(),m&&m.c(),this.h()},l(c){e=d(c,"DIV",{class:!0});var b=y(e);t&&t.l(b),s=N(b),w&&w.l(b),n=N(b),m&&m.l(b),b.forEach(f),this.h()},h(){u(e,"class","space-y-8 pb-20 relative")},m(c,b){U(c,e,b),~l&&v[l].m(e,null),a(e,s),w&&w.m(e,null),a(e,n),m&&m.m(e,null),o=!0},p(c,[b]){let p=l;l=P(c),l===p?~l&&v[l].p(c,b):(t&&(Pe(),A(v[p],1,1,()=>{v[p]=null}),De()),~l?(t=v[l],t?t.p(c,b):(t=v[l]=i[l](c),t.c()),S(t,1),t.m(e,s)):t=null),c[3]?w?(w.p(c,b),b&8&&S(w,1)):(w=wt(c),w.c(),S(w,1),w.m(e,n)):w&&(Pe(),A(w,1,1,()=>{w=null}),De()),c[8]?m?(m.p(c,b),b&256&&S(m,1)):(m=$t(c),m.c(),S(m,1),m.m(e,null)):m&&(Pe(),A(m,1,1,()=>{m=null}),De())},i(c){o||(S(t),S(w),S(m),o=!0)},o(c){A(t),A(w),A(m),o=!1},d(c){c&&f(e),~l&&v[l].d(),w&&w.d(),m&&m.d()}}}function Zt(r,e,l){let t,s;mt(r,Pt,g=>l(10,t=g)),mt(r,Dt,g=>l(22,s=g));let n=null,o=!0,i=null,v=!1,P=!1,w=null,m=null,c=null,b=!1,p=!1;It(async()=>{console.log("Playlist page mounted");const g=s.params.id;console.log("Playlist ID:",g);try{console.log("Fetching playlist..."),l(0,n=await Ne.getPlaylist(g)),l(9,p=n.is_public),console.log("Playlist fetched:",n)}catch(z){console.error("Failed to load playlist",z),l(2,i="Failed to load playlist.")}finally{l(1,o=!1),console.log("Loading set to false")}});async function E(){if(!t.token){l(8,b=!0);return}const g=!p;try{await Ne.patch(`/api/playlists/${n.id}/public`,{is_public:g},t.token),l(9,p=g),l(0,n.is_public=g,n)}catch(z){console.error("Failed to toggle playlist visibility",z),alert("Failed to update playlist visibility")}}async function k(g){l(4,P=!0),l(5,w=null),l(6,m=null),l(7,c=null);try{await Ne.importPlaylist(n.id,g),l(6,m=`Successfully imported to ${g}!`),setTimeout(()=>{l(3,v=!1),l(6,m=null)},2e3)}catch(z){console.error("Import failed",z),z.code==="PLATFORM_NOT_CONNECTED"?l(7,c={platform:g}):l(5,w=z.message||"Import failed. Please check your connection settings.")}finally{l(4,P=!1)}}function V(g){g==="spotify"?window.location.href=Ne.getSpotifyLink():g==="youtube"&&(window.location.href=Ne.getYouTubeLink())}return[n,o,i,v,P,w,m,c,b,p,t,E,k,V,()=>{t.token?l(3,v=!0):l(8,b=!0)},()=>{l(3,v=!1),l(7,c=null)},()=>{l(7,c=null)},()=>V(c.platform),()=>k("spotify"),()=>k("youtube"),()=>l(8,b=!1),()=>l(8,b=!1)]}class cl extends Be{constructor(e){super(),Le(this,e,Zt,Wt,Ae,{})}}export{cl as component};
